# ===========================================
# MSSanté API - Configuration DEVELOPMENT
# ===========================================
# Fichier de configuration pour l'environnement de développement local
# ===========================================

# ===========================================
# ENVIRONNEMENT
# ===========================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# ===========================================
# BASE DE DONNÉES POSTGRESQL
# ===========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=mssante
DB_USER=mssante
DB_PASSWORD=DevPassword123!
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# ===========================================
# REDIS (Cache & Sessions)
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=DevRedisPassword456!
REDIS_DB=0
REDIS_TLS=false

# ===========================================
# JWT & SESSIONS
# ===========================================
JWT_SECRET=DevJwtSecretKeyForLocalDevelopment789!
JWT_EXPIRES_IN=86400
JWT_ISSUER=mssante-api-dev
JWT_AUDIENCE=mssante-client-dev
REFRESH_TOKEN_EXPIRES_IN=604800

# ===========================================
# PRO SANTÉ CONNECT (Environnement de TEST/BAS)
# ===========================================
PSC_CLIENT_ID=votre_client_id_dev
PSC_CLIENT_SECRET=votre_client_secret_dev
PSC_REDIRECT_URI=http://localhost:3000/auth/psc/callback
PSC_AUTH_URL=https://auth.bas.esw.esante.gouv.fr/auth/realms/esante-wallet-test/protocol/openid-connect/auth
PSC_TOKEN_URL=https://auth.bas.esw.esante.gouv.fr/auth/realms/esante-wallet-test/protocol/openid-connect/token
PSC_USERINFO_URL=https://auth.bas.esw.esante.gouv.fr/auth/realms/esante-wallet-test/protocol/openid-connect/userinfo
PSC_LOGOUT_URL=https://auth.bas.esw.esante.gouv.fr/auth/realms/esante-wallet-test/protocol/openid-connect/logout
PSC_SCOPE=openid email profile scope_all

# ===========================================
# ANS - OPÉRATEUR (Environnement de formation)
# ===========================================
OPERATOR_ID=DEV_OPERATOR_001
ANNUAIRE_API_URL=https://annuaire.formation.mssante.fr/api/v1
ANNUAIRE_API_KEY=dev_api_key_annuaire

# ===========================================
# DOMAINE & URLs
# ===========================================
DOMAIN=localhost
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# ===========================================
# SMTP CONFIGURATION (Postfix local)
# ===========================================
SMTP_HOST=postfix
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=

# ===========================================
# IMAP CONFIGURATION (Dovecot local)
# ===========================================
IMAP_HOST=dovecot
IMAP_PORT=143
IMAP_SECURE=false

# ===========================================
# EMAIL SETTINGS
# ===========================================
DEFAULT_FROM_EMAIL=noreply@localhost
ADMIN_EMAIL=admin@localhost

# ===========================================
# CERTIFICATS SSL/TLS (Dev - auto-signés)
# ===========================================
SSL_CERT_PATH=./config/certificates/dev/server.pem
SSL_KEY_PATH=./config/certificates/dev/server.key
SSL_CA_PATH=./config/certificates/dev/ca.pem

# ===========================================
# RATE LIMITING (Désactivé en dev)
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ===========================================
# LOGGING (Verbose en dev)
# ===========================================
LOG_DIR=./logs
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=5
ENABLE_DEBUG_LOGS=true

# ===========================================
# CORS (Permissif en dev)
# ===========================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# ===========================================
# MONITORING (Activé en dev)
# ===========================================
METRICS_ENABLED=true
METRICS_PORT=9090

# ===========================================
# DEBUG (Dev uniquement)
# ===========================================
DEBUG=mssante:*
ENABLE_STACK_TRACE=true
ENABLE_REQUEST_LOGGING=true